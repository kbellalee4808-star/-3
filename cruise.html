<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>크루즈 금액 계산 | 프라이빗 크루즈 클럽</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-white text-gray-900">
  <main class="max-w-3xl mx-auto px-6 py-16">
    <header class="mb-10">
      <a href="index.html" class="text-sm text-gray-500 hover:text-gray-900">← 메인으로</a>
      <h1 class="text-3xl md:text-4xl font-extrabold tracking-tight mt-3">
        크루즈 금액 계산
      </h1>
      <p class="text-gray-500 mt-3 text-base md:text-lg">
        비회원가(만원)를 입력하면 멤버가(50%)와 리워드 적용 후 금액이 자동 계산됩니다.
      </p>
    </header>

    <section class="border rounded-3xl p-6 md:p-8 space-y-6">

      <!-- 비회원가 -->
      <div>
        <label class="block text-lg font-bold mb-2">비회원 크루즈 금액 (만원)</label>
        <input id="nonPrice" type="number" placeholder="예: 600"
               class="w-full border rounded-2xl p-4 text-lg outline-none focus:ring-2 focus:ring-yellow-300"
               oninput="calc()" />
        <p class="text-xs text-gray-400 mt-2">* 만원 단위로 입력하세요 (미입력 시 0)</p>
      </div>

      <!-- 3칸 요약 -->
      <div class="grid grid-cols-3 gap-3">
        <div class="rounded-2xl border p-4 text-center">
          <p class="text-sm text-gray-500">비회원</p>
          <p class="text-lg font-extrabold mt-1" id="showNon">0만원</p>
        </div>

        <div class="rounded-2xl border p-4 text-center bg-blue-50">
          <p class="text-sm text-gray-500">멤버 (50%)</p>
          <p class="text-lg font-extrabold mt-1" id="showMember">0만원</p>
        </div>

        <div class="rounded-2xl border p-4 text-center bg-green-50">
          <p class="text-sm text-gray-500">리워드 적용 후</p>
          <p class="text-lg font-extrabold mt-1" id="showFinal">0만원</p>
        </div>
      </div>

      <!-- 리워드 -->
      <div>
        <label class="block text-lg font-bold mb-2">리워드 사용 (만원)</label>
        <input id="reward" type="number" placeholder="예: 120"
               class="w-full border rounded-2xl p-4 text-lg outline-none focus:ring-2 focus:ring-yellow-300"
               oninput="calc()" />
        <p class="text-xs text-gray-400 mt-2">* 만원 단위 (미입력 시 0)</p>
      </div>

      <!-- 바 그래프 -->
      <div class="space-y-3 pt-2">
        <div>
          <div class="flex justify-between text-sm mb-1">
            <span class="text-gray-500">비회원 기준</span>
            <span id="barTextNon" class="font-semibold">0만원</span>
          </div>
          <div class="h-3 bg-gray-100 rounded-full">
            <div id="barNon" class="h-3 bg-gray-300 rounded-full w-full"></div>
          </div>
        </div>

        <div>
          <div class="flex justify-between text-sm mb-1">
            <span class="text-gray-500">멤버 적용</span>
            <span id="barTextMember" class="font-semibold">0만원</span>
          </div>
          <div class="h-3 bg-blue-100 rounded-full">
            <div id="barMember" class="h-3 bg-blue-300 rounded-full w-0"></div>
          </div>
        </div>

        <div>
          <div class="flex justify-between text-sm mb-1">
            <span class="text-gray-500">리워드 적용 후</span>
            <span id="barTextFinal" class="font-semibold">0만원</span>
          </div>
          <div class="h-3 bg-green-100 rounded-full">
            <div id="barFinal" class="h-3 bg-green-300 rounded-full w-0"></div>
          </div>
        </div>
      </div>

      <!-- 최종 -->
      <div class="rounded-3xl bg-yellow-50 border p-6">
        <p class="text-gray-600 font-medium">최종 크루즈 비용</p>
        <p class="text-4xl font-extrabold mt-2">
          <span id="finalBig">0</span>만원
        </p>
        <p class="text-xs text-gray-400 mt-3">
          * 참고용 계산이며 실제 조건은 멤버십 및 객실 상황에 따라 달라질 수 있습니다.
        </p>
      </div>
    </section>
  </main>

<script>
  function getVal(id) {
    return Number(document.getElementById(id).value || 0);
  }

  function calc() {
    // 입력 (만원 → 원)
    const non = getVal("nonPrice") * 10000;
    const reward = getVal("reward") * 10000;

    const member = Math.round(non * 0.5);
    const final = Math.max(member - reward, 0);

    // 표시 (만원)
    const toMan = v => Math.round(v / 10000).toLocaleString();

    showNon.innerText = toMan(non) + "만원";
    showMember.innerText = toMan(member) + "만원";
    showFinal.innerText = toMan(final) + "만원";

    barTextNon.innerText = toMan(non) + "만원";
    barTextMember.innerText = toMan(member) + "만원";
    barTextFinal.innerText = toMan(final) + "만원";

    finalBig.innerText = toMan(final);

    const base = non || 1;
    barMember.style.width = Math.min((member / base) * 100, 100) + "%";
    barFinal.style.width = Math.min((final / base) * 100, 100) + "%";
  }
</script>

</body>
</html>
